Index: lab3Architecture/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'kotlin-android'\r\napply plugin: 'kotlin-android-extensions'\r\napply plugin: 'kotlin-kapt'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"co.edu.udea.compumovil.gr04_20121.Lab3Architecture\"\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = \"1.8\"\r\n    }\r\n}\r\n\r\ndef preference_version = '1.1.0'\r\n\r\ndependencies {\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\r\n    implementation 'androidx.core:core-ktx:1.3.2'\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.2'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    implementation \"androidx.navigation:navigation-fragment-ktx:2.3.0\"\r\n    implementation \"androidx.navigation:navigation-ui-ktx:2.3.0\"\r\n\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0'\r\n    implementation \"androidx.lifecycle:lifecycle-livedata-ktx:2.3.0-alpha07\"\r\n\r\n    implementation 'androidx.room:room-ktx:2.2.5'\r\n    implementation \"androidx.room:room-runtime:2.2.5\"\r\n    kapt \"androidx.room:room-compiler:2.2.5\"\r\n\r\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\r\n\r\n    implementation \"com.squareup.retrofit2:retrofit:2.6.1\"\r\n    implementation \"com.squareup.retrofit2:converter-gson:2.5.0\"\r\n\r\n    implementation \"androidx.preference:preference:$preference_version\"\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- lab3Architecture/build.gradle	(revision c90980f110d8baacbfc7d720a488b7c96d78ba97)
+++ lab3Architecture/build.gradle	(date 1605478819141)
@@ -41,6 +41,7 @@
     implementation 'androidx.core:core-ktx:1.3.2'
     implementation 'androidx.appcompat:appcompat:1.2.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.0.2'
+    implementation 'androidx.preference:preference-ktx:1.1.1'
     testImplementation 'junit:junit:4.12'
     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
@@ -65,6 +66,6 @@
     implementation "com.squareup.retrofit2:retrofit:2.6.1"
     implementation "com.squareup.retrofit2:converter-gson:2.5.0"
 
-    implementation "androidx.preference:preference:$preference_version"
+    implementation "androidx.preference:preference:$preference_version "
 
 }
\ No newline at end of file
Index: lab3Architecture/src/main/java/co/edu/udea/compumovil/gr04_20121/Lab3Architecture/LoginFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package co.edu.udea.compumovil.gr04_20121.Lab3Architecture\r\n\r\nimport android.content.Intent\r\nimport android.database.Cursor\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Button\r\nimport android.widget.CursorAdapter\r\nimport android.widget.EditText\r\nimport android.widget.Toast\r\nimport androidx.lifecycle.Observer\r\nimport androidx.navigation.fragment.findNavController\r\nimport co.edu.udea.compumovil.gr04_20121.Lab3Architecture.base.AppDatabase\r\nimport co.edu.udea.compumovil.gr04_20121.Lab3Architecture.model.User_Entity_Activity\r\nimport co.edu.udea.compumovil.gr04_20121.Lab3Architecture.vo.RegisterUserActivity\r\nimport kotlinx.android.synthetic.main.fragment_login.*\r\nimport kotlinx.android.synthetic.main.fragment_lugares.*\r\nimport org.intellij.lang.annotations.JdkConstants\r\n\r\n\r\nclass LoginFragment : Fragment() {\r\n\r\n   override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_login, container, false)\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        val database= this.context?.let {\r\n            AppDatabase.getDatabase(it)}\r\n\r\n        btningresar.findViewById<Button>(R.id.btningresar)\r\n        btningresar.setOnClickListener {\r\n\r\n            val userLogin = txtUser_Login.text.toString()\r\n            val userpasslog = txtPass_Login.text.toString()\r\n\r\n            txtUser_Login.findViewById<EditText>(R.id.txtUser_Login)\r\n            txtPass_Login.findViewById<EditText>(R.id.txtPass_Login)\r\n\r\n\r\n            if (userLogin.isEmpty()||userpasslog.isEmpty()){\r\n                Toast.makeText(requireContext(),\"Por favor diligencie todos los campos\",Toast.LENGTH_SHORT).show()\r\n            }else {\r\n                if (database != null) {\r\n                    database.UserDao().getUser(userLogin).observe(\r\n                        viewLifecycleOwner,\r\n                        Observer { result : User_Entity_Activity ->\r\n                            if (result != null && result.password.equals(userpasslog)) {\r\n                                saveLoginSharedPreference();\r\n\r\n                                Toast.makeText(requireContext(), \"Bienvenido\" + userLogin, Toast.LENGTH_SHORT)\r\n                                    .show()\r\n                                findNavController().navigate(R.id.lugaresFragment)\r\n                            } else {\r\n                                Toast.makeText(requireContext(), \"Usuario ó Contrseña Incorrecto \", Toast.LENGTH_SHORT).show()\r\n                            }\r\n\r\n                        })\r\n                }\r\n\r\n                /*findNavController().navigate(R.id.lugaresFragment)\r\n                Toast.makeText(requireContext(),\"Bienvenido(a) sr(a)\" + userLogin,Toast.LENGTH_SHORT).show()*/\r\n            }\r\n\r\n\r\n        }\r\n\r\n        btnregirtro.setOnClickListener {\r\n            val intent:Intent = Intent(activity, RegisterUserActivity::class.java)\r\n            startActivity(intent)\r\n        }\r\n\r\n    }\r\n\r\n    private fun saveLoginSharedPreference() {\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- lab3Architecture/src/main/java/co/edu/udea/compumovil/gr04_20121/Lab3Architecture/LoginFragment.kt	(revision c90980f110d8baacbfc7d720a488b7c96d78ba97)
+++ lab3Architecture/src/main/java/co/edu/udea/compumovil/gr04_20121/Lab3Architecture/LoginFragment.kt	(date 1605479200562)
@@ -1,6 +1,9 @@
 package co.edu.udea.compumovil.gr04_20121.Lab3Architecture
 
+import android.app.Activity
+import android.content.Context
 import android.content.Intent
+import android.content.SharedPreferences
 import android.database.Cursor
 import android.os.Bundle
 import androidx.fragment.app.Fragment
@@ -11,10 +14,12 @@
 import android.widget.CursorAdapter
 import android.widget.EditText
 import android.widget.Toast
+import androidx.core.content.ContextCompat.startActivity
 import androidx.lifecycle.Observer
 import androidx.navigation.fragment.findNavController
 import co.edu.udea.compumovil.gr04_20121.Lab3Architecture.base.AppDatabase
 import co.edu.udea.compumovil.gr04_20121.Lab3Architecture.model.User_Entity_Activity
+import co.edu.udea.compumovil.gr04_20121.Lab3Architecture.ui.LugaresFragment
 import co.edu.udea.compumovil.gr04_20121.Lab3Architecture.vo.RegisterUserActivity
 import kotlinx.android.synthetic.main.fragment_login.*
 import kotlinx.android.synthetic.main.fragment_lugares.*
@@ -23,9 +28,23 @@
 
 class LoginFragment : Fragment() {
 
-   override fun onCreate(savedInstanceState: Bundle?) {
+    lateinit var sharedPreferences: SharedPreferences
+    var isRemembered = false
+
+    override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
 
+//        sharedPreferences = activity?.getSharedPreferences("SHARED_PREF", Context.MODE_PRIVATE)!!
+//
+//        isRemembered = sharedPreferences.getBoolean("CHECKBOX", false)
+//
+//        if (isRemembered){
+//
+//            val intent: Intent = Intent(activity, LugaresFragment::class.java)
+//            startActivity(intent)
+//
+////            findNavController().navigate(R.id.lugaresFragment)
+//        }
 
     }
 
@@ -40,55 +59,97 @@
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
 
-        val database= this.context?.let {
-            AppDatabase.getDatabase(it)}
+//        val database = this.context?.let {
+//            AppDatabase.getDatabase(it)
+//        }
+//
+//        btningresar.findViewById<Button>(R.id.btningresar)
+//        btningresar.setOnClickListener {
+//
+//            val userLogin = txtUser_Login.text.toString()
+//            val userpasslog = txtPass_Login.text.toString()
+//
+//            txtUser_Login.findViewById<EditText>(R.id.txtUser_Login)
+//            txtPass_Login.findViewById<EditText>(R.id.txtPass_Login)
+//            if (userLogin.isEmpty()||userpasslog.isEmpty()){
+//                Toast.makeText(requireContext(),"Por favor diligencie todos los campos",Toast.LENGTH_SHORT).show()
+//            }else {
+//                if (database != null) {
+//                    database.UserDao().getUser(userLogin).observe(
+//                        viewLifecycleOwner,
+//                        Observer { result ->
+//                            if (result != null && result.password.equals(userpasslog)) {
+//                                Toast.makeText(requireContext(), "Bienvenido", Toast.LENGTH_SHORT)
+//                                    .show()
+//                                findNavController().navigate(R.id.lugaresFragment)
+//                            } else {
+//                                Toast.makeText(requireContext(), "Usuario ó Contrseña Incorrecto ", Toast.LENGTH_SHORT).show()
+//                            }
+//
+//                        })
+//                }
+//
+//                /*findNavController().navigate(R.id.lugaresFragment)
+//                Toast.makeText(requireContext(),"Bienvenido(a) sr(a)" + userLogin,Toast.LENGTH_SHORT).show()*/
+//            }
+//
+//
 
-        btningresar.findViewById<Button>(R.id.btningresar)
         btningresar.setOnClickListener {
-
-            val userLogin = txtUser_Login.text.toString()
-            val userpasslog = txtPass_Login.text.toString()
-
-            txtUser_Login.findViewById<EditText>(R.id.txtUser_Login)
-            txtPass_Login.findViewById<EditText>(R.id.txtPass_Login)
-
-
-            if (userLogin.isEmpty()||userpasslog.isEmpty()){
-                Toast.makeText(requireContext(),"Por favor diligencie todos los campos",Toast.LENGTH_SHORT).show()
-            }else {
-                if (database != null) {
-                    database.UserDao().getUser(userLogin).observe(
-                        viewLifecycleOwner,
-                        Observer { result : User_Entity_Activity ->
-                            if (result != null && result.password.equals(userpasslog)) {
-                                saveLoginSharedPreference();
-
-                                Toast.makeText(requireContext(), "Bienvenido" + userLogin, Toast.LENGTH_SHORT)
-                                    .show()
-                                findNavController().navigate(R.id.lugaresFragment)
-                            } else {
-                                Toast.makeText(requireContext(), "Usuario ó Contrseña Incorrecto ", Toast.LENGTH_SHORT).show()
-                            }
+//            val name: String =  txtUser_Login.text.toString()
+//            val pass: String =  txtPass_Login.text.toString()
+//            val checked: Boolean = checkbox1.isChecked
+//
+//            val editor: SharedPreferences.Editor = sharedPreferences.edit()
+//            editor.putString("NAME", name)
+//            editor.putString("PASS", pass)
+//            editor.putBoolean("CHECKBOX", checked)
+//            editor.apply()
+//
+//            Toast.makeText(requireContext(), "INFO SAVED", Toast.LENGTH_LONG).show()
 
-                        })
-                }
+            val intent= Intent(activity, LugaresFragment::class.java)
+            startActivity(intent)
 
-                /*findNavController().navigate(R.id.lugaresFragment)
-                Toast.makeText(requireContext(),"Bienvenido(a) sr(a)" + userLogin,Toast.LENGTH_SHORT).show()*/
-            }
+        }
 
 
-        }
 
-        btnregirtro.setOnClickListener {
-            val intent:Intent = Intent(activity, RegisterUserActivity::class.java)
-            startActivity(intent)
-        }
+                btnregirtro.setOnClickListener {
+                    val intent: Intent = Intent(activity, RegisterUserActivity::class.java)
+                    startActivity(intent)
+                }
 
-    }
+            }
 
-    private fun saveLoginSharedPreference() {
+
 
-    }
+        }
 
-}
\ No newline at end of file
+
+
+
+
+
+
+
+
+//
+//            val sharedPreferences = activity?.getSharedPreferences(getString(R.string.preferences_name), Context.MODE_PRIVATE)
+//            val userlogg = sharedPreferences?.getBoolean(getString(R.string.user_loguueago), false)
+
+
+//            activity?.getPreferences(Context.MODE_PRIVATE) ?: return
+//            with (sharedPref.edit()) {
+//                putInt(getString(R.string.saved_high_score_key), newHighScore)
+//                commit()
+//            }
+//
+//            val sharedPreferences =
+//                activity?.getPreferences(Context.MODE_PRIVATE) ?: return@setOnClickListener
+//            with(sharedPreferences.edit()) {
+//                putInt(getString(R.string.preferences_name), Context.MODE_PRIVATE)
+//                commit()
+//                val userlogg =
+//                    sharedPreferences?.getBoolean(getString(R.string.user_loguueago), false)
+//                if (userlogg) {
Index: lab3Architecture/src/main/res/layout/fragment_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".MainActivity\">\r\n\r\n    <Button\r\n        android:id=\"@+id/btningresar\"\r\n        android:layout_width=\"100dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"128dp\"\r\n        android:background=\"@drawable/btn_rounded\"\r\n        android:text=\"Ingresar\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/btnregirtro\"\r\n        app:layout_constraintHorizontal_bias=\"0.863\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnregirtro\"\r\n        android:layout_width=\"100dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"88dp\"\r\n        android:layout_marginRight=\"88dp\"\r\n        android:layout_marginBottom=\"128dp\"\r\n        android:background=\"@drawable/btn_rounded2\"\r\n        android:text=\"Registrarse\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/txtUser_Login\"\r\n        android:layout_width=\"230dp\"\r\n        android:layout_height=\"46dp\"\r\n        android:layout_marginBottom=\"4dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"Usuario\"\r\n        android:inputType=\"textPersonName\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/txtPass_Login\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.545\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/txtPass_Login\"\r\n        android:layout_width=\"230dp\"\r\n        android:layout_height=\"43dp\"\r\n        android:layout_marginBottom=\"24dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"Contraseña\"\r\n        android:inputType=\"textPersonName\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/btnregirtro\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.546\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imageViewItem\"\r\n        android:layout_width=\"383dp\"\r\n        android:layout_height=\"367dp\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/txtUser_Login\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:srcCompat=\"@drawable/lugares\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- lab3Architecture/src/main/res/layout/fragment_login.xml	(revision c90980f110d8baacbfc7d720a488b7c96d78ba97)
+++ lab3Architecture/src/main/res/layout/fragment_login.xml	(date 1605471017971)
@@ -10,21 +10,21 @@
         android:id="@+id/btningresar"
         android:layout_width="100dp"
         android:layout_height="wrap_content"
-        android:layout_marginBottom="128dp"
+        android:layout_marginBottom="104dp"
         android:background="@drawable/btn_rounded"
         android:text="Ingresar"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toStartOf="@+id/btnregirtro"
-        app:layout_constraintHorizontal_bias="0.863"
+        app:layout_constraintHorizontal_bias="0.862"
         app:layout_constraintStart_toStartOf="parent" />
 
     <Button
         android:id="@+id/btnregirtro"
         android:layout_width="100dp"
         android:layout_height="wrap_content"
-        android:layout_marginEnd="88dp"
-        android:layout_marginRight="88dp"
-        android:layout_marginBottom="128dp"
+        android:layout_marginEnd="80dp"
+        android:layout_marginRight="80dp"
+        android:layout_marginBottom="104dp"
         android:background="@drawable/btn_rounded2"
         android:text="Registrarse"
         app:layout_constraintBottom_toBottomOf="parent"
@@ -40,14 +40,14 @@
         android:inputType="textPersonName"
         app:layout_constraintBottom_toTopOf="@+id/txtPass_Login"
         app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.545"
+        app:layout_constraintHorizontal_bias="0.546"
         app:layout_constraintStart_toStartOf="parent" />
 
     <EditText
         android:id="@+id/txtPass_Login"
         android:layout_width="230dp"
         android:layout_height="43dp"
-        android:layout_marginBottom="24dp"
+        android:layout_marginBottom="72dp"
         android:ems="10"
         android:hint="Contraseña"
         android:inputType="textPersonName"
@@ -56,6 +56,15 @@
         app:layout_constraintHorizontal_bias="0.546"
         app:layout_constraintStart_toStartOf="parent" />
 
+    <CheckBox
+        android:id="@+id/checkbox1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Recordar mi Usuario"
+        app:layout_constraintBottom_toTopOf="@+id/btningresar"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/txtPass_Login" />
     <ImageView
         android:id="@+id/imageViewItem"
         android:layout_width="383dp"
